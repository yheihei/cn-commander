# 設計書作成ルール

## 概要
本プロジェクトの設計書は、エピック・タスク単位で体系的に管理する。

## ディレクトリ構造

```
docs/
├── design/
│   ├── epic-01-foundation/          # 基盤システム
│   │   ├── task-1-1-phaser-setup.md
│   │   ├── task-1-2-game-state.md
│   │   └── ...
│   ├── epic-02-map-terrain/         # マップ・地形システム
│   │   ├── task-2-1-tilemap.md
│   │   ├── task-2-2-terrain-types.md
│   │   └── ...
│   ├── epic-03-character-unit/      # キャラクター・軍団システム
│   │   └── ...
│   └── ...
└── epics/
    └── epic.md                      # エピック管理
```

## 命名規則

### フォルダ名
- 形式: `epic-XX-${簡潔な名前}/`
- 例: `epic-01-foundation/`, `epic-02-map-terrain/`

### ファイル名
- 形式: `task-X-Y-${機能名}.md`
- 例: `task-2-1-tilemap.md`, `task-3-2-job-system.md`

## 設計書テンプレート

```markdown
# [タスク番号] 機能名

## 概要
- エピック: #X
- タスク: #X-Y
- 関連PR/要件: 

## 設計方針

## インターフェース定義

## テスト方針

## 未解決事項
- [ ] 未解決事項1
- [ ] 未解決事項2
```

## 作成タイミング
- Phase1 Planの段階で、タスクごとに設計書を作成
- 実装中に設計変更があれば随時更新
- Phase5 Docで最終的な設計内容を確認・更新

## 設計書の内容

下記の内容を必ず記載すること

- 何を実現するか（What）
- なぜその設計にしたか（Why）
- 主要なコンポーネントと責務（High-level design）
- インターフェース定義（API）
- データ構造の概要

- **重要** 詳細な実装を書いてはいけない

### 概要
- エピック番号とタスク番号を明記
- 関連するPRDや要件へのリンク

### 設計方針
- 技術選定の理由
- アーキテクチャの選択理由
- 既存システムとの整合性

### インターフェース定義
- 公開API
- 他システムとの連携方法
- イベント/コールバック

### テスト方針
- 統合テストの観点

### 未解決事項
- 実装時に判明した課題
- 将来的な改善点
- 技術的負債

## 注意事項
- 既存の日付ベースのファイルはそのまま残す（移動しない）
- 新規作成時はこのルールに従う